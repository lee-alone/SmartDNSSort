# Unbound configuration file for Debian.
#
# See the unbound.conf(5) man page.
#
# See /usr/share/doc/unbound/examples/unbound.conf for a commented
# reference config file.
#
# The following line includes additional configuration files from the
# /etc/unbound/unbound.conf.d directory.
include-toplevel: "/etc/unbound/unbound.conf.d/*.conf"
server:
    interface: 0.0.0.0@53
    do-ip4: yes
    do-ip6: no
    do-udp: yes
    do-tcp: yes

    access-control: 127.0.0.0/8 allow
    access-control: 192.168.1.0/24 allow

#    tcp-upstream: yes
    num-threads: 4
    msg-cache-size: 256m
    rrset-cache-size: 512m
    outgoing-range: 8192
    so-rcvbuf: 8m

    cache-max-ttl: 86400
    cache-min-ttl: 3600
    serve-expired: yes
    serve-expired-ttl: 86400
    serve-expired-reply-ttl: 30
    serve-expired-client-timeout: 1800

    prefetch: yes
    prefetch-key: yes

    harden-dnssec-stripped: yes
    harden-glue: yes
    harden-referral-path: yes
    qname-minimisation: yes
    minimal-responses: yes
    use-caps-for-id: yes

    so-reuseport: yes
    private-address: 192.168.0.0/16

    root-hints: "/var/lib/unbound/root.hints"

    module-config: "iterator"
