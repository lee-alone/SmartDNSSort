# Recursor å‰ç«¯é›†æˆæ€»ç»“

## ğŸ¯ æ ¸å¿ƒæ€è·¯

### é—®é¢˜åˆ†æ

1. **é…ç½®éœ€æ±‚**ï¼šç”¨æˆ·éœ€è¦èƒ½å¤Ÿå¯ç”¨/ç¦ç”¨ Recursorï¼Œå¹¶é…ç½®ç«¯å£
2. **UI éœ€æ±‚**ï¼šå‰ç«¯éœ€è¦æ˜¾ç¤º Recursor çš„å®æ—¶çŠ¶æ€
3. **æ•°æ®æµ**ï¼šæœ¬åœ°æœåŠ¡å™¨çŠ¶æ€éœ€è¦é€šè¿‡ API å®æ—¶æ¨é€åˆ°å‰ç«¯

### è§£å†³æ–¹æ¡ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Web UI (å‰ç«¯)                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â€¢ é…ç½®è¡¨å•ï¼šå¯ç”¨/ç¦ç”¨ã€ç«¯å£è®¾ç½®                              â”‚
â”‚  â€¢ çŠ¶æ€æ˜¾ç¤ºï¼šå®æ—¶æŒ‡ç¤ºå™¨ï¼ˆè¿è¡Œ/åœæ­¢/æœªçŸ¥ï¼‰                    â”‚
â”‚  â€¢ è½®è¯¢æœºåˆ¶ï¼šæ¯ 5 ç§’æ›´æ–°ä¸€æ¬¡çŠ¶æ€                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚ HTTP API
                     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Go åç«¯ (API)                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â€¢ /api/configï¼šä¿å­˜/åŠ è½½é…ç½®                                â”‚
â”‚  â€¢ /api/recursor/statusï¼šè·å– Recursor çŠ¶æ€                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Recursor Manager                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â€¢ å¯åŠ¨/åœæ­¢ Unbound è¿›ç¨‹                                    â”‚
â”‚  â€¢ ç›‘æ§è¿›ç¨‹çŠ¶æ€                                              â”‚
â”‚  â€¢ è‡ªåŠ¨é‡å¯æœºåˆ¶                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ å‰ç«¯ä¿®æ”¹è¦ç‚¹

### 1. HTML å…¥å£ä¿®æ”¹ âš ï¸ å…³é”®

**æ–‡ä»¶ï¼š** `webapi/web/index.html`

åœ¨åº•éƒ¨è„šæœ¬åŒºåŸŸï¼Œ**å¿…é¡»** åœ¨ `config.js` ä¹‹å‰å¼•å…¥ `recursor.js`ï¼š

```html
<!-- é”™è¯¯çš„é¡ºåº âŒ -->
<script src="js/modules/config.js"></script>
<script src="js/modules/recursor.js"></script>

<!-- æ­£ç¡®çš„é¡ºåº âœ… -->
<script src="js/modules/recursor.js"></script>
<script src="js/modules/config.js"></script>
```

**ä¸ºä»€ä¹ˆé‡è¦**ï¼š
- `recursor.js` å®šä¹‰ `updateRecursorStatus()` å‡½æ•°
- `config.js` è°ƒç”¨ `updateRecursorStatus()`
- å¦‚æœé¡ºåºé”™è¯¯ï¼Œä¼šæŠ¥é”™ï¼š`updateRecursorStatus is not defined`
- æ•´ä¸ªé…ç½®é¡µé¢ä¼šåŠ è½½å¤±è´¥

### 2. é…ç½®è¡¨å•ï¼ˆconfig-recursor.htmlï¼‰

**å…³é”®å…ƒç´ ï¼š**
- âœ… å¯ç”¨/ç¦ç”¨å¤é€‰æ¡†
- âœ… ç«¯å£è¾“å…¥æ¡†ï¼ˆé»˜è®¤ 5353ï¼‰
- âœ… å®æ—¶çŠ¶æ€æŒ‡ç¤ºå™¨
- âœ… ä¿¡æ¯é¢æ¿ï¼ˆç‰ˆæœ¬ã€æ¶æ„ã€åŠŸèƒ½ï¼‰

**è®¾è®¡åŸåˆ™ï¼š**
- ä¸ç°æœ‰é…ç½® UI é£æ ¼ä¸€è‡´
- ä½¿ç”¨ i18n æ”¯æŒå¤šè¯­è¨€
- å“åº”å¼è®¾è®¡ï¼ˆç§»åŠ¨ç«¯å‹å¥½ï¼‰

### 2. é…ç½®è¡¨å•ï¼ˆconfig-recursor.htmlï¼‰

**å…³é”®å…ƒç´ ï¼š**
- âœ… å¯ç”¨/ç¦ç”¨å¤é€‰æ¡†
- âœ… ç«¯å£è¾“å…¥æ¡†ï¼ˆé»˜è®¤ 5353ï¼Œ**å»ºè®®æ”¹ä¸º 8053**ï¼‰
- âœ… å®æ—¶çŠ¶æ€æŒ‡ç¤ºå™¨
- âœ… ä¿¡æ¯é¢æ¿ï¼ˆç‰ˆæœ¬ã€æ¶æ„ã€åŠŸèƒ½ï¼‰

**è®¾è®¡åŸåˆ™ï¼š**
- ä¸ç°æœ‰é…ç½® UI é£æ ¼ä¸€è‡´
- ä½¿ç”¨ i18n æ”¯æŒå¤šè¯­è¨€
- å“åº”å¼è®¾è®¡ï¼ˆç§»åŠ¨ç«¯å‹å¥½ï¼‰

### 3. çŠ¶æ€æ˜¾ç¤ºï¼ˆrecursor.jsï¼‰

**æ ¸å¿ƒåŠŸèƒ½ï¼š**
```javascript
// è·å–çŠ¶æ€
GET /api/recursor/status â†’ { enabled, port, uptime, ... }

// æ›´æ–° UI
- è¿è¡Œä¸­ï¼šğŸŸ¢ ç»¿è‰² + "Running on port 5353"
- å·²åœæ­¢ï¼šğŸ”´ çº¢è‰² + "Stopped"
- æœªçŸ¥ï¼šâš« ç°è‰² + "Unknown"

// è½®è¯¢æœºåˆ¶
setInterval(updateRecursorStatus, 5000)  // æ¯ 5 ç§’æ›´æ–°
```

**ç”¨æˆ·ä½“éªŒï¼š**
- å®æ—¶åé¦ˆï¼šç”¨æˆ·ä¿®æ”¹é…ç½®åç«‹å³çœ‹åˆ°çŠ¶æ€å˜åŒ–
- è‡ªåŠ¨è½®è¯¢ï¼šæ— éœ€æ‰‹åŠ¨åˆ·æ–°
- é”™è¯¯æç¤ºï¼šå¯åŠ¨å¤±è´¥æ—¶æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯

### 3. çŠ¶æ€æ˜¾ç¤ºï¼ˆrecursor.jsï¼‰

**æ ¸å¿ƒåŠŸèƒ½ï¼š**
```javascript
// è·å–çŠ¶æ€
GET /api/recursor/status â†’ { enabled, port, uptime, ... }

// æ›´æ–° UI
- è¿è¡Œä¸­ï¼šğŸŸ¢ ç»¿è‰² + "Running on port 5353"
- å·²åœæ­¢ï¼šğŸ”´ çº¢è‰² + "Stopped"
- æœªçŸ¥ï¼šâš« ç°è‰² + "Unknown"

// è½®è¯¢æœºåˆ¶
setInterval(updateRecursorStatus, 5000)  // æ¯ 5 ç§’æ›´æ–°
```

**ç”¨æˆ·ä½“éªŒï¼š**
- å®æ—¶åé¦ˆï¼šç”¨æˆ·ä¿®æ”¹é…ç½®åç«‹å³çœ‹åˆ°çŠ¶æ€å˜åŒ–
- è‡ªåŠ¨è½®è¯¢ï¼šæ— éœ€æ‰‹åŠ¨åˆ·æ–°
- é”™è¯¯æç¤ºï¼šå¯åŠ¨å¤±è´¥æ—¶æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯

### 4. æœ¬åœ°æœåŠ¡å™¨æ•°æ®æ˜¾ç¤º

**æ•°æ®æµå‘ï¼š**
```
åç«¯ Recursor Manager
    â†“
    è·å–çŠ¶æ€ï¼ˆIsEnabledã€GetPortã€GetLastHealthCheckï¼‰
    â†“
API ç«¯ç‚¹ /api/recursor/status
    â†“
å‰ç«¯ JavaScript è½®è¯¢
    â†“
æ›´æ–° DOMï¼ˆçŠ¶æ€æŒ‡ç¤ºå™¨ã€æ–‡æœ¬ï¼‰
    â†“
ç”¨æˆ·çœ‹åˆ°å®æ—¶çŠ¶æ€
```

**å…³é”® API å“åº”ï¼š**
```json
{
  "enabled": true,
  "port": 5353,
  "address": "127.0.0.1:5353",
  "uptime": 7200,
  "last_health_check": 1706700000
}
```

### 4. æœ¬åœ°æœåŠ¡å™¨æ•°æ®æ˜¾ç¤º

**æ•°æ®æµå‘ï¼š**
```
åç«¯ Recursor Manager
    â†“
    è·å–çŠ¶æ€ï¼ˆIsEnabledã€GetPortã€GetLastHealthCheckï¼‰
    â†“
API ç«¯ç‚¹ /api/recursor/status
    â†“
å‰ç«¯ JavaScript è½®è¯¢
    â†“
æ›´æ–° DOMï¼ˆçŠ¶æ€æŒ‡ç¤ºå™¨ã€æ–‡æœ¬ï¼‰
    â†“
ç”¨æˆ·çœ‹åˆ°å®æ—¶çŠ¶æ€
```

**å…³é”® API å“åº”ï¼š**
```json
{
  "enabled": true,
  "port": 5353,
  "address": "127.0.0.1:5353",
  "uptime": 7200,
  "last_health_check": 1706700000
}
```

---

## ğŸš¨ å…³é”®é£é™©ä¸å»ºè®®

### 1. é»˜è®¤ç«¯å£ 5353 çš„ mDNS å†²çª

**é—®é¢˜**ï¼š5353 æ˜¯ mDNS æ ‡å‡†ç«¯å£ï¼ŒWindows/macOS ä¸Šå¯èƒ½è¢« Bonjour å ç”¨

**å»ºè®®æ–¹æ¡ˆ**ï¼š
- âœ… å°†é»˜è®¤ç«¯å£æ”¹ä¸º **8053**ï¼ˆæ¨èï¼‰
- âœ… åœ¨ UI ä¸­æ·»åŠ è­¦å‘Šæç¤º
- âœ… ä¸¤è€…ç»“åˆï¼ˆæœ€ä½³ï¼‰

**å®ç°**ï¼š
```go
// config/config_defaults.go
if cfg.Upstream.RecursorPort == 0 {
    cfg.Upstream.RecursorPort = 8053  // æ”¹ä¸º 8053
}
```

### 2. JavaScript åŠ è½½é¡ºåº

**å…³é”®**ï¼š`recursor.js` å¿…é¡»åœ¨ `config.js` ä¹‹å‰åŠ è½½

**é”™è¯¯ç¤ºä¾‹**ï¼š
```html
<!-- âŒ ä¼šå¯¼è‡´ config.js æŠ¥é”™ -->
<script src="js/modules/config.js"></script>
<script src="js/modules/recursor.js"></script>
```

**æ­£ç¡®ç¤ºä¾‹**ï¼š
```html
<!-- âœ… æ­£ç¡®çš„é¡ºåº -->
<script src="js/modules/recursor.js"></script>
<script src="js/modules/config.js"></script>
```

### 3. å…¨å±€ä½œç”¨åŸŸç®¡ç†

**å½“å‰è®¾è®¡**ï¼šæ‰€æœ‰å‡½æ•°æš´éœ²åœ¨å…¨å±€ä½œç”¨åŸŸï¼ˆä¼ ç»Ÿ `<script>` åŠ è½½ï¼‰

**ä¸ºä»€ä¹ˆå¯ä»¥æ¥å—**ï¼š
- å‘½åè¶³å¤Ÿç‹¬ç‰¹ï¼ˆ`RECURSOR_API_URL`ã€`updateRecursorStatus` ç­‰ï¼‰
- ä¸ä¼šä¸å…¶ä»–å…¨å±€å˜é‡å†²çª
- é¡¹ç›®ç›®å‰é‡‡ç”¨æ­¤æ¨¡å¼

**æœªæ¥æ”¹è¿›**ï¼šè¿ç§»åˆ° ES6 æ¨¡å—åŒ–ï¼ˆWebpack/Viteï¼‰

---

## ğŸ”§ åç«¯ä¿®æ”¹è¦ç‚¹

### 1. é…ç½®ç®¡ç†

**åœ¨ config_types.go ä¸­æ·»åŠ ï¼š**
```go
type UpstreamConfig struct {
    EnableRecursor bool `yaml:"enable_recursor,omitempty" json:"enable_recursor"`
    RecursorPort   int  `yaml:"recursor_port,omitempty" json:"recursor_port"`
}
```

**åœ¨ config_defaults.go ä¸­æ·»åŠ ï¼š**
```go
if cfg.Upstream.RecursorPort == 0 {
    cfg.Upstream.RecursorPort = 5353
}
```

### 2. API ç«¯ç‚¹

**æ–°å»º api_recursor.goï¼š**
```go
// GET /api/recursor/status
func (api *API) GetRecursorStatus(c *gin.Context) {
    status := RecursorStatus{
        Enabled:         server.recursorMgr.IsEnabled(),
        Port:            server.recursorMgr.GetPort(),
        Address:         server.recursorMgr.GetAddress(),
        LastHealthCheck: server.recursorMgr.GetLastHealthCheck().Unix(),
    }
    c.JSON(http.StatusOK, status)
}
```

### 3. ç”Ÿå‘½å‘¨æœŸç®¡ç†

**åœ¨ server_init.go ä¸­ï¼š**
```go
if cfg.Upstream.EnableRecursor {
    server.recursorMgr = recursor.NewManager(cfg.Upstream.RecursorPort)
}
```

**åœ¨ server_lifecycle.go ä¸­ï¼š**
```go
// Start
if s.recursorMgr != nil {
    if err := s.recursorMgr.Start(); err != nil {
        logger.Warnf("Failed to start recursor: %v", err)
    }
}

// Shutdown
if s.recursorMgr != nil {
    if err := s.recursorMgr.Stop(); err != nil {
        logger.Warnf("Failed to stop recursor: %v", err)
    }
}
```

---

## ğŸŒ å›½é™…åŒ–æ”¯æŒ

### è‹±æ–‡ (resources-en.js)
```javascript
config.recursor = {
    legend: "Recursive Resolver",
    enable: "Enable Embedded Unbound Recursor",
    port: "Recursor Port",
    status: "Status",
    statusRunning: "Running on port {{port}} (Uptime: {{uptime}})",
    statusStopped: "Stopped",
    // ...
}
```

### ä¸­æ–‡ (resources-zh-cn.js)
```javascript
config.recursor = {
    legend: "é€’å½’è§£æå™¨",
    enable: "å¯ç”¨åµŒå…¥å¼ Unbound é€’å½’è§£æå™¨",
    port: "é€’å½’è§£æå™¨ç«¯å£",
    status: "çŠ¶æ€",
    statusRunning: "è¿è¡Œä¸­ï¼ˆç«¯å£ï¼š{{port}}ï¼Œè¿è¡Œæ—¶é—´ï¼š{{uptime}}ï¼‰",
    statusStopped: "å·²åœæ­¢",
    // ...
}
```

---

## ğŸ“Š ç”¨æˆ·äº¤äº’æµç¨‹

### å¯ç”¨ Recursor

```
ç”¨æˆ·ç•Œé¢
  â†“
1. å‹¾é€‰ "Enable Embedded Unbound Recursor"
2. è®¾ç½®ç«¯å£ï¼ˆé»˜è®¤ 5353ï¼‰
3. ç‚¹å‡» "Save & Apply"
  â†“
åç«¯å¤„ç†
  â†“
1. éªŒè¯é…ç½®ï¼ˆç«¯å£å†²çªæ£€æŸ¥ï¼‰
2. åˆå§‹åŒ– Recursor Manager
3. å¯åŠ¨ Unbound è¿›ç¨‹
4. è¿”å›æˆåŠŸå“åº”
  â†“
å‰ç«¯åé¦ˆ
  â†“
1. æ˜¾ç¤ºåŠ è½½çŠ¶æ€
2. è½®è¯¢ /api/recursor/status
3. çŠ¶æ€å˜ä¸º "Running" æ—¶æ˜¾ç¤ºæˆåŠŸ
4. å®šæœŸæ›´æ–°è¿è¡Œæ—¶é—´
```

### ç¦ç”¨ Recursor

```
ç”¨æˆ·ç•Œé¢
  â†“
1. å–æ¶ˆå‹¾é€‰ "Enable Embedded Unbound Recursor"
2. ç‚¹å‡» "Save & Apply"
  â†“
åç«¯å¤„ç†
  â†“
1. åœæ­¢ Unbound è¿›ç¨‹
2. æ¸…ç†ä¸´æ—¶æ–‡ä»¶
3. è¿”å›æˆåŠŸå“åº”
  â†“
å‰ç«¯åé¦ˆ
  â†“
1. çŠ¶æ€ç«‹å³å˜ä¸º "Stopped"
2. æ˜¾ç¤ºæˆåŠŸæç¤º
```

---

## âš ï¸ æ³¨æ„äº‹é¡¹

### 1. ç«¯å£å†²çªæ£€æŸ¥

```go
// åœ¨ä¿å­˜é…ç½®æ—¶æ£€æŸ¥
if cfg.Upstream.RecursorPort == cfg.DNS.ListenPort {
    return errors.New("recursor port cannot be same as DNS listen port")
}
```

### 2. æƒé™è¦æ±‚

- Linuxï¼šå¦‚æœä½¿ç”¨ < 1024 çš„ç«¯å£ï¼Œéœ€è¦ root æƒé™
- Windowsï¼šé€šå¸¸æ— ç‰¹æ®Šæƒé™è¦æ±‚
- å»ºè®®ä½¿ç”¨ > 1024 çš„ç«¯å£

### 3. èµ„æºå ç”¨

- Unbound å†…å­˜å ç”¨ï¼š50-150MBï¼ˆå–å†³äºç¼“å­˜å¤§å°ï¼‰
- CPU å ç”¨ï¼šæ ¹æ®æŸ¥è¯¢é‡åŠ¨æ€è°ƒæ•´
- å»ºè®®åœ¨èµ„æºå……è¶³çš„ç³»ç»Ÿä¸Šå¯ç”¨

### 4. é”™è¯¯å¤„ç†

```javascript
// å‰ç«¯åº”å¤„ç†ä»¥ä¸‹é”™è¯¯ï¼š
- ç½‘ç»œé”™è¯¯ï¼šæ˜¾ç¤º "Connection failed"
- å¯åŠ¨è¶…æ—¶ï¼šæ˜¾ç¤º "Startup timeout"
- ç«¯å£è¢«å ç”¨ï¼šæ˜¾ç¤º "Port already in use"
- äºŒè¿›åˆ¶ç¼ºå¤±ï¼šæ˜¾ç¤º "Binary not found"
```

---

## ğŸ“‹ å®ç°æ¸…å•

### å‰ç«¯ä»»åŠ¡ âš ï¸ æŒ‰é¡ºåºæ‰§è¡Œ

- [ ] **[å…³é”®]** ä¿®æ”¹ `webapi/web/index.html` - åœ¨ config.js å‰å¼•å…¥ recursor.js
- [ ] åˆ›å»º `webapi/web/components/config-recursor.html`
- [ ] æ›´æ–° `webapi/web/components/config.html` æ·»åŠ å®¹å™¨
- [ ] åˆ›å»º `webapi/web/js/modules/recursor.js`
- [ ] æ›´æ–° `webapi/web/js/modules/config.js`
- [ ] æ›´æ–° `webapi/web/js/modules/component-loader.js`
- [ ] æ·»åŠ è‹±æ–‡ç¿»è¯‘ `webapi/web/js/i18n/resources-en.js`
- [ ] æ·»åŠ ä¸­æ–‡ç¿»è¯‘ `webapi/web/js/i18n/resources-zh-cn.js`
- [ ] æµ‹è¯•çŠ¶æ€æ˜¾ç¤º
- [ ] æµ‹è¯•å¯ç”¨/ç¦ç”¨æµç¨‹

### åç«¯ä»»åŠ¡

- [ ] æ›´æ–° `config/config_types.go` æ·»åŠ é…ç½®å­—æ®µ
- [ ] æ›´æ–° `config/config_defaults.go` æ·»åŠ é»˜è®¤å€¼ï¼ˆ**æ”¹ä¸º 8053**ï¼‰
- [ ] åˆ›å»º `webapi/api_recursor.go` API ç«¯ç‚¹
- [ ] æ›´æ–° `webapi/api.go` æ³¨å†Œè·¯ç”±
- [ ] æ›´æ–° `dnsserver/server.go` æ·»åŠ å­—æ®µ
- [ ] æ›´æ–° `dnsserver/server_init.go` åˆå§‹åŒ–
- [ ] æ›´æ–° `dnsserver/server_lifecycle.go` ç”Ÿå‘½å‘¨æœŸ
- [ ] æµ‹è¯• API ç«¯ç‚¹
- [ ] æµ‹è¯•å¯åŠ¨/åœæ­¢æµç¨‹

### é›†æˆæµ‹è¯•

- [ ] å¯ç”¨ Recursor å¹¶éªŒè¯çŠ¶æ€
- [ ] ç¦ç”¨ Recursor å¹¶éªŒè¯çŠ¶æ€
- [ ] ä¿®æ”¹ç«¯å£å¹¶éªŒè¯
- [ ] æµ‹è¯•ç«¯å£å†²çªæ£€æŸ¥
- [ ] æµ‹è¯•å¤šè¯­è¨€æ˜¾ç¤º
- [ ] æµ‹è¯•é”™è¯¯å¤„ç†
- [ ] æ€§èƒ½æµ‹è¯•ï¼ˆå†…å­˜ã€CPUï¼‰
- [ ] æµ‹è¯• mDNS ç«¯å£å†²çªï¼ˆå¦‚æœä½¿ç”¨ 5353ï¼‰

---

## ğŸ“ å‚è€ƒæ–‡æ¡£

- **Recursor å¼€å‘æŒ‡å—**ï¼š`recursor/DEVELOPMENT_GUIDE.md`
- **Manager å®ç°**ï¼š`recursor/manager.go`
- **å‰ç«¯ä¿®æ”¹ç»†èŠ‚**ï¼š`recursor/å‰ç«¯ä¿®æ”¹ç»†èŠ‚.md`
- **ç°æœ‰é…ç½® UI**ï¼š`webapi/web/components/config-upstream.html`
- **i18n ç³»ç»Ÿ**ï¼š`webapi/web/js/i18n/`

---

## ğŸ’¡ è®¾è®¡äº®ç‚¹

1. **ç”¨æˆ·å‹å¥½**ï¼šç®€å•çš„å¯ç”¨/ç¦ç”¨å¼€å…³ï¼Œæ— éœ€å¤æ‚é…ç½®
2. **å®æ—¶åé¦ˆ**ï¼šçŠ¶æ€æŒ‡ç¤ºå™¨å®æ—¶æ›´æ–°ï¼Œç”¨æˆ·ä½“éªŒå¥½
3. **è‡ªåŠ¨ç®¡ç†**ï¼šåç«¯è‡ªåŠ¨å¤„ç†å¯åŠ¨/åœæ­¢ï¼Œç”¨æˆ·æ— éœ€æ‰‹åŠ¨å¹²é¢„
4. **å¤šè¯­è¨€æ”¯æŒ**ï¼šå®Œæ•´çš„ i18n æ”¯æŒ
5. **é”™è¯¯å¤„ç†**ï¼šå®Œå–„çš„é”™è¯¯æç¤ºå’Œæ¢å¤æœºåˆ¶
6. **èµ„æºé«˜æ•ˆ**ï¼šè½®è¯¢é—´éš”åˆç†ï¼ˆ5 ç§’ï¼‰ï¼Œä¸ä¼šè¿‡åº¦å ç”¨èµ„æº

---

**æ–‡æ¡£å®Œæˆæ—¥æœŸ**ï¼š2026-01-31  
**ç‰ˆæœ¬**ï¼š1.0  
**çŠ¶æ€**ï¼šâœ… å°±ç»ª
